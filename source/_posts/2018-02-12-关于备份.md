---
title: 关于 Hexo 的备份
date: 2018-02-12 14:57:13
tags: Hexo
categories: 其他
---
　　未雨绸缪是件好事儿，如果哪天电脑崩了，网站要重新搭，各种配置文件要重新搞，博客也一篇都没有了，这怕是在花样作死，所以趁早先把备份做起来。<!--more-->

---
　　过程有点坎坷，最后的备份方式是新建一个专门用来备份的仓库，每次提交更新的时候就 pull 上去，也就是一个本地目录，两个远端目录。
**遇到的坑：**
　　最开始 pull 到备份仓库的时候，发现 next 这个主题文件夹是空的。next 是当时从 github 上面 clone 下来的，url 和博客目录是不一致的。后来的解决办法：删除 next 目录下的 `.git` 文件然后在博客根目录运行 `git rm -r --cached themes/next` 然后再提交 pull 文件夹就好了。
**tips：**
　　因为 hexo g/d 执行的时候有些文件夹是会重新生成的，所以我们备份的时候不用把这些文件夹也推上去，可以配置一下根目录下的 `.gitignore` 文件
```
.DS_Store
Thumbs.db
db.json
*.log
node_modules/
public/
.deploy*/
```
　　因为 `package.json` 这个文件记录了我们的 hexo 依赖包，当有一天需要从备份取用的时候，我们从远端 clone 下来，在其根目录执行一下 `npm install` 就可以了。